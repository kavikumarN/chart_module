{"ast":null,"code":"var _jsxFileName = \"/home/mat/reactex/jun11/chart/src/SimpleDealingRates.js\";\nimport React from \"react\";\nimport \"./SimpleDealingRates.css\";\nimport io from \"socket.io-client\";\nvar socket;\n\nclass SimpleDealingRates extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._handleClick = event => {\n      const visible = this.state.visible;\n      const wasOutside = !(event.target.contains === this.root);\n\n      if (wasOutside && visible) {\n        this.setState({\n          visible: false\n        });\n        this.root.style.display = \"none\";\n      }\n    };\n\n    this._handleScroll = () => {\n      const visible = this.state.visible;\n\n      if (visible) {\n        this.root.style.display = \"none\";\n        this.setState({\n          visible: false\n        });\n      }\n    };\n\n    this.state = {\n      //value : '12345',\n      visible: false,\n      stacks: [{\n        symbol: \"XAU/USD\",\n        sell: \"123456\",\n        buy: \"654321\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Component has mounted \");\n    document.addEventListener(\"click\", this._handleClick);\n    document.addEventListener(\"scroll\", this._handleScroll);\n    var that = this;\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    var old = [];\n    var oldest = [];\n\n    if (Array.isArray(symbols)) {\n      symbols.forEach(function (symbol) {\n        old.push({\n          symbol: symbol,\n          sell: \"0\",\n          buy: \"0\"\n        });\n        oldest.push({\n          symbol: symbol,\n          sell: \"0\",\n          buy: \"0\"\n        });\n      });\n    }\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function (datas) {\n      console.log(datas);\n      var lenth = that.state.stacks.length;\n      var flag = 0;\n      var stacks = that.state.stacks;\n\n      if (stacks === []) {\n        stacks.push(datas);\n      } else {\n        stacks.map((stack, i) => {\n          if (stack.symbol === datas.symbol) {\n            stack.buy = datas.buy;\n            stack.sell = datas.sell;\n            flag = 1;\n          }\n\n          if (stack.symbol !== datas.symbol && lenth - 1 === i && flag !== 1) {\n            stacks.push(datas);\n          }\n        });\n      }\n\n      that.setState({\n        stacks: stacks\n      });\n      old.map((old, i) => {\n        //console.log(datas.symbol+\" \"+old.symbol);\n        if (datas.symbol === old.symbol) {\n          if (old.sell > datas.sell) {\n            document.getElementById(datas.symbol + \" sellspan\").innerHTML = \"&#9660;\";\n            oldest.map((oldest, i) => {\n              if (old.symbol === oldest.symbol) {\n                if (oldest.sell > old.sell) {\n                  document.getElementById(datas.symbol + \" sellspan\").style.color = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" selldiv\").style.backgroundColor = \"#ffffff\";\n                  document.getElementById(datas.symbol + \" sell\").style.color = \"#000000\";\n                  oldest.sell = old.sell;\n                  old.sell = datas.sell;\n                } else {\n                  document.getElementById(datas.symbol + \" sellspan\").style.color = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" selldiv\").style.backgroundColor = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" sell\").style.color = \"#ffffff\";\n                  oldest.sell = old.sell;\n                  old.sell = datas.sell;\n                }\n              }\n            });\n          }\n\n          if (old.sell < datas.sell) {\n            document.getElementById(datas.symbol + \" sellspan\").innerHTML = \"&#9650;\";\n            oldest.map((oldest, i) => {\n              if (old.symbol === oldest.symbol) {\n                if (oldest.sell < old.sell) {\n                  document.getElementById(datas.symbol + \" sellspan\").style.color = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" selldiv\").style.backgroundColor = \"#ffffff\";\n                  document.getElementById(datas.symbol + \" sell\").style.color = \"#000000\";\n                  oldest.sell = old.sell;\n                  old.sell = datas.sell;\n                } else {\n                  document.getElementById(datas.symbol + \" sellspan\").style.color = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" selldiv\").style.backgroundColor = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" sell\").style.color = \"#ffffff\";\n                  oldest.sell = old.sell;\n                  old.sell = datas.sell;\n                }\n              }\n            });\n          }\n\n          if (old.buy < datas.buy) {\n            document.getElementById(datas.symbol + \" buyspan\").innerHTML = \"&#9650;\";\n            oldest.map((oldest, i) => {\n              if (old.symbol === oldest.symbol) {\n                if (oldest.buy < old.buy) {\n                  document.getElementById(datas.symbol + \" buyspan\").style.color = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" buydiv\").style.backgroundColor = \"#ffffff\";\n                  document.getElementById(datas.symbol + \" buy\").style.color = \"#000000\";\n                  oldest.buy = old.buy;\n                  old.buy = datas.buy;\n                } else {\n                  document.getElementById(datas.symbol + \" buyspan\").style.color = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" buydiv\").style.backgroundColor = \"#3599d3\";\n                  document.getElementById(datas.symbol + \" buy\").style.color = \"#ffffff\";\n                  oldest.buy = old.buy;\n                  old.buy = datas.buy;\n                }\n              }\n            });\n          }\n\n          if (old.buy > datas.buy) {\n            document.getElementById(datas.symbol + \" buyspan\").innerHTML = \"&#9660;\";\n            oldest.map((oldest, i) => {\n              if (old.symbol === oldest.symbol) {\n                if (oldest.buy > old.buy) {\n                  document.getElementById(datas.symbol + \" buyspan\").style.color = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" buydiv\").style.backgroundColor = \"#ffffff\";\n                  document.getElementById(datas.symbol + \" buy\").style.color = \"#000000\";\n                  oldest.buy = old.buy;\n                  old.buy = datas.buy;\n                } else {\n                  document.getElementById(datas.symbol + \" buyspan\").style.color = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" buydiv\").style.backgroundColor = \"#fe5974\";\n                  document.getElementById(datas.symbol + \" buy\").style.color = \"#ffffff\";\n                  oldest.buy = old.buy;\n                  old.buy = datas.buy;\n                }\n              }\n            });\n          }\n        }\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"contextmenu\", this.ContextMenuHandle);\n    document.removeEventListener(\"click\", this._handleClick);\n    document.removeEventListener(\"scroll\", this._handleScroll);\n  }\n\n  ContextMenuHandle(event) {\n    event.preventDefault();\n    this.setState({\n      visible: true\n    });\n    const clickX = event.clientX;\n    const clickY = event.clientY;\n    const screenW = window.innerWidth;\n    const screenH = window.innerHeight;\n    const rootW = this.root.offsetWidth;\n    const rootH = this.root.offsetHeight;\n    const right = screenW - clickX > rootW;\n    const left = !right;\n    const top = screenH - clickY > rootH;\n    const bottom = !top;\n\n    if (right) {\n      this.root.style.left = \"\".concat(clickX + 5, \"px\");\n    }\n\n    if (left) {\n      this.root.style.left = \"\".concat(clickX - rootW - 5, \"px\");\n    }\n\n    if (top) {\n      this.root.style.top = \"\".concat(clickY + 5, \"px\");\n    }\n\n    if (bottom) {\n      this.root.style.top = \"\".concat(clickY - rootH - 5, \"px\");\n    }\n\n    this.root.style.display = \"block\";\n  }\n\n  orderMenu(event) {\n    //console.log('Clicked '+ event.button);\n    console.log(event.target.id);\n    let smbl = event.target.id.split(\" \");\n\n    if (smbl[1] === \"buy\") {\n      document.getElementById(\"buyRadio\").checked = \"true\"; //document.getElementById(\"orderMenu--symbol\").option = smbl[0];\n\n      this.orderMain.style.display = \"block\"; //this.orderMain.style.height = \"330px\";\n\n      this.order.style.display = \"block\";\n      this.orderMenuAdvanced.style.display = \"none\";\n    } else {\n      document.getElementById(\"sellRadio\").checked = \"true\";\n      this.orderMain.style.display = \"block\";\n      this.order.style.display = \"block\";\n      this.orderMenuAdvanced.style.display = \"none\";\n    }\n  }\n\n  orderAdvanced(event) {\n    //console.log('Clicked '+ event.button);\n    console.log(event.target.id); //this.orderMain.style.display = \"block\";\n    //this.orderMain.style.height = \"615px\";\n    //this.order.style.display = \"block\";\n\n    this.orderMenuAdvanced.style.display = \"block\";\n  }\n\n  closeNav() {\n    this.orderMain.style.display = \"none\";\n  }\n\n  focus(event) {\n    console.log(event.target.id);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"SDRmain\",\n      id: \"SDRmain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: ref => {\n        this.orderMain = ref;\n      },\n      className: \"orderMenuMain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: ref => {\n        this.order = ref;\n      },\n      className: \"orderMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Symbol\"), React.createElement(\"select\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, this.state.stacks.map(data => React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, data.symbol))), React.createElement(\"button\", {\n      onClick: this.closeNav.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"Cancel\"))), React.createElement(\"div\", {\n      ref: ref => {\n        this.orderMenuAdvanced = ref;\n      },\n      className: \"orderMenuAdavanced\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"SimpleDealingRates\",\n      id: \"SimpleDealingRates\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      onContextMenu: this.ContextMenuHandle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, this.state.stacks.map((stack, i) => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, stack.symbol), React.createElement(\"td\", {\n      onClick: this.orderMenu.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sell\",\n      id: stack.symbol + \" selldiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: stack.symbol + \" sellspan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"\\u25BC\")), React.createElement(\"span\", {\n      id: stack.symbol + \" sell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, stack.sell))), React.createElement(\"td\", {\n      onClick: this.orderMenu.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sell\",\n      id: stack.symbol + \" buydiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: stack.symbol + \" buyspan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"\\u25B2\")), React.createElement(\"span\", {\n      id: stack.symbol + \" buy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, stack.buy))))))))));\n  }\n\n}\n\nexport default SimpleDealingRates;","map":{"version":3,"sources":["/home/mat/reactex/jun11/chart/src/SimpleDealingRates.js"],"names":["React","io","socket","SimpleDealingRates","Component","constructor","props","_handleClick","event","visible","state","wasOutside","target","contains","root","setState","style","display","_handleScroll","stacks","symbol","sell","buy","componentDidMount","console","log","document","addEventListener","that","symbols","old","oldest","Array","isArray","forEach","push","connect","emit","on","datas","lenth","length","flag","map","stack","i","getElementById","innerHTML","color","backgroundColor","componentWillUnmount","removeEventListener","ContextMenuHandle","preventDefault","clickX","clientX","clickY","clientY","screenW","window","innerWidth","screenH","innerHeight","rootW","offsetWidth","rootH","offsetHeight","right","left","top","bottom","orderMenu","id","smbl","split","checked","orderMain","order","orderMenuAdvanced","orderAdvanced","closeNav","focus","render","ref","data","bind"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./SimpleDealingRates.css\";\r\nimport io from \"socket.io-client\";\r\n\r\nvar socket;\r\n\r\nclass SimpleDealingRates extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //value : '12345',\r\n      visible: false,\r\n      stacks: [{ symbol: \"XAU/USD\", sell: \"123456\", buy: \"654321\" }]\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"Component has mounted \");\r\n\r\n    document.addEventListener(\"click\", this._handleClick);\r\n    document.addEventListener(\"scroll\", this._handleScroll);\r\n\r\n    var that = this;\r\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\r\n    var old = [];\r\n    var oldest = [];\r\n    if (Array.isArray(symbols)) {\r\n      symbols.forEach(function(symbol) {\r\n        old.push({ symbol: symbol, sell: \"0\", buy: \"0\" });\r\n        oldest.push({ symbol: symbol, sell: \"0\", buy: \"0\" });\r\n      });\r\n    }\r\n    socket = io.connect(\"http://192.168.1.145:5000\");\r\n\r\n    socket.emit(\"join\", symbols);\r\n\r\n    socket.on(\"stack\", function(datas) {\r\n      console.log(datas);\r\n\r\n      var lenth = that.state.stacks.length;\r\n      var flag = 0;\r\n      var stacks = that.state.stacks;\r\n      if (stacks === []) {\r\n        stacks.push(datas);\r\n      } else {\r\n        stacks.map((stack, i) => {\r\n          if (stack.symbol === datas.symbol) {\r\n            stack.buy = datas.buy;\r\n            stack.sell = datas.sell;\r\n            flag = 1;\r\n          }\r\n          if (stack.symbol !== datas.symbol && lenth - 1 === i && flag !== 1) {\r\n            stacks.push(datas);\r\n          }\r\n        });\r\n      }\r\n      that.setState({\r\n        stacks: stacks\r\n      });\r\n\r\n      old.map((old, i) => {\r\n        //console.log(datas.symbol+\" \"+old.symbol);\r\n        if (datas.symbol === old.symbol) {\r\n          if (old.sell > datas.sell) {\r\n            document.getElementById(datas.symbol + \" sellspan\").innerHTML =\r\n              \"&#9660;\";\r\n            oldest.map((oldest, i) => {\r\n              if (old.symbol === oldest.symbol) {\r\n                if (oldest.sell > old.sell) {\r\n                  document.getElementById(\r\n                    datas.symbol + \" sellspan\"\r\n                  ).style.color = \"#fe5974\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" selldiv\"\r\n                  ).style.backgroundColor = \"#ffffff\";\r\n                  document.getElementById(datas.symbol + \" sell\").style.color =\r\n                    \"#000000\";\r\n                  oldest.sell = old.sell;\r\n                  old.sell = datas.sell;\r\n                } else {\r\n                  document.getElementById(\r\n                    datas.symbol + \" sellspan\"\r\n                  ).style.color = \"#fe5974\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" selldiv\"\r\n                  ).style.backgroundColor = \"#fe5974\";\r\n                  document.getElementById(datas.symbol + \" sell\").style.color =\r\n                    \"#ffffff\";\r\n                  oldest.sell = old.sell;\r\n                  old.sell = datas.sell;\r\n                }\r\n              }\r\n            });\r\n          }\r\n\r\n          if (old.sell < datas.sell) {\r\n            document.getElementById(datas.symbol + \" sellspan\").innerHTML =\r\n              \"&#9650;\";\r\n            oldest.map((oldest, i) => {\r\n              if (old.symbol === oldest.symbol) {\r\n                if (oldest.sell < old.sell) {\r\n                  document.getElementById(\r\n                    datas.symbol + \" sellspan\"\r\n                  ).style.color = \"#3599d3\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" selldiv\"\r\n                  ).style.backgroundColor = \"#ffffff\";\r\n                  document.getElementById(datas.symbol + \" sell\").style.color =\r\n                    \"#000000\";\r\n                  oldest.sell = old.sell;\r\n                  old.sell = datas.sell;\r\n                } else {\r\n                  document.getElementById(\r\n                    datas.symbol + \" sellspan\"\r\n                  ).style.color = \"#3599d3\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" selldiv\"\r\n                  ).style.backgroundColor = \"#3599d3\";\r\n                  document.getElementById(datas.symbol + \" sell\").style.color =\r\n                    \"#ffffff\";\r\n                  oldest.sell = old.sell;\r\n                  old.sell = datas.sell;\r\n                }\r\n              }\r\n            });\r\n          }\r\n\r\n          if (old.buy < datas.buy) {\r\n            document.getElementById(datas.symbol + \" buyspan\").innerHTML =\r\n              \"&#9650;\";\r\n            oldest.map((oldest, i) => {\r\n              if (old.symbol === oldest.symbol) {\r\n                if (oldest.buy < old.buy) {\r\n                  document.getElementById(\r\n                    datas.symbol + \" buyspan\"\r\n                  ).style.color = \"#3599d3\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" buydiv\"\r\n                  ).style.backgroundColor = \"#ffffff\";\r\n                  document.getElementById(datas.symbol + \" buy\").style.color =\r\n                    \"#000000\";\r\n                  oldest.buy = old.buy;\r\n                  old.buy = datas.buy;\r\n                } else {\r\n                  document.getElementById(\r\n                    datas.symbol + \" buyspan\"\r\n                  ).style.color = \"#3599d3\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" buydiv\"\r\n                  ).style.backgroundColor = \"#3599d3\";\r\n                  document.getElementById(datas.symbol + \" buy\").style.color =\r\n                    \"#ffffff\";\r\n                  oldest.buy = old.buy;\r\n                  old.buy = datas.buy;\r\n                }\r\n              }\r\n            });\r\n          }\r\n\r\n          if (old.buy > datas.buy) {\r\n            document.getElementById(datas.symbol + \" buyspan\").innerHTML =\r\n              \"&#9660;\";\r\n            oldest.map((oldest, i) => {\r\n              if (old.symbol === oldest.symbol) {\r\n                if (oldest.buy > old.buy) {\r\n                  document.getElementById(\r\n                    datas.symbol + \" buyspan\"\r\n                  ).style.color = \"#fe5974\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" buydiv\"\r\n                  ).style.backgroundColor = \"#ffffff\";\r\n                  document.getElementById(datas.symbol + \" buy\").style.color =\r\n                    \"#000000\";\r\n                  oldest.buy = old.buy;\r\n                  old.buy = datas.buy;\r\n                } else {\r\n                  document.getElementById(\r\n                    datas.symbol + \" buyspan\"\r\n                  ).style.color = \"#fe5974\";\r\n                  document.getElementById(\r\n                    datas.symbol + \" buydiv\"\r\n                  ).style.backgroundColor = \"#fe5974\";\r\n                  document.getElementById(datas.symbol + \" buy\").style.color =\r\n                    \"#ffffff\";\r\n                  oldest.buy = old.buy;\r\n                  old.buy = datas.buy;\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"contextmenu\", this.ContextMenuHandle);\r\n    document.removeEventListener(\"click\", this._handleClick);\r\n    document.removeEventListener(\"scroll\", this._handleScroll);\r\n  }\r\n\r\n  ContextMenuHandle(event) {\r\n    event.preventDefault();\r\n\r\n    this.setState({ visible: true });\r\n\r\n    const clickX = event.clientX;\r\n    const clickY = event.clientY;\r\n    const screenW = window.innerWidth;\r\n    const screenH = window.innerHeight;\r\n    const rootW = this.root.offsetWidth;\r\n    const rootH = this.root.offsetHeight;\r\n\r\n    const right = screenW - clickX > rootW;\r\n    const left = !right;\r\n    const top = screenH - clickY > rootH;\r\n    const bottom = !top;\r\n\r\n    if (right) {\r\n      this.root.style.left = `${clickX + 5}px`;\r\n    }\r\n\r\n    if (left) {\r\n      this.root.style.left = `${clickX - rootW - 5}px`;\r\n    }\r\n\r\n    if (top) {\r\n      this.root.style.top = `${clickY + 5}px`;\r\n    }\r\n\r\n    if (bottom) {\r\n      this.root.style.top = `${clickY - rootH - 5}px`;\r\n    }\r\n    this.root.style.display = \"block\";\r\n  }\r\n\r\n  _handleClick = event => {\r\n    const { visible } = this.state;\r\n    const wasOutside = !(event.target.contains === this.root);\r\n\r\n    if (wasOutside && visible) {\r\n      this.setState({ visible: false });\r\n      this.root.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  _handleScroll = () => {\r\n    const { visible } = this.state;\r\n\r\n    if (visible) {\r\n      this.root.style.display = \"none\";\r\n      this.setState({ visible: false });\r\n    }\r\n  };\r\n\r\n  orderMenu(event) {\r\n    //console.log('Clicked '+ event.button);\r\n    console.log(event.target.id);\r\n    let smbl = event.target.id.split(\" \");\r\n\r\n    if (smbl[1] === \"buy\") {\r\n      document.getElementById(\"buyRadio\").checked = \"true\";\r\n      //document.getElementById(\"orderMenu--symbol\").option = smbl[0];\r\n      this.orderMain.style.display = \"block\";\r\n      //this.orderMain.style.height = \"330px\";\r\n      this.order.style.display = \"block\";\r\n      this.orderMenuAdvanced.style.display = \"none\";\r\n    } else {\r\n      document.getElementById(\"sellRadio\").checked = \"true\";\r\n      this.orderMain.style.display = \"block\";\r\n      this.order.style.display = \"block\";\r\n      this.orderMenuAdvanced.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  orderAdvanced(event) {\r\n    //console.log('Clicked '+ event.button);\r\n    console.log(event.target.id);\r\n\r\n    //this.orderMain.style.display = \"block\";\r\n    //this.orderMain.style.height = \"615px\";\r\n    //this.order.style.display = \"block\";\r\n    this.orderMenuAdvanced.style.display = \"block\";\r\n  }\r\n  closeNav() {\r\n    this.orderMain.style.display = \"none\";\r\n  }\r\n  focus(event) {\r\n    console.log(event.target.id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"SDRmain\" id=\"SDRmain\">\r\n        <div\r\n          ref={ref => {\r\n            this.orderMain = ref;\r\n          }}\r\n          className=\"orderMenuMain\"\r\n        >\r\n          <div\r\n            ref={ref => {\r\n              this.order = ref;\r\n            }}\r\n            className=\"orderMenu\"\r\n          >\r\n            <div>\r\n              <label>Symbol</label>\r\n              <select>\r\n                {this.state.stacks.map(data => (\r\n                  <option>{data.symbol}</option>\r\n                ))}\r\n              </select>\r\n              <button onClick={this.closeNav.bind(this)}>Cancel</button>\r\n            </div>\r\n          </div>\r\n          <div\r\n            ref={ref => {\r\n              this.orderMenuAdvanced = ref;\r\n            }}\r\n            className=\"orderMenuAdavanced\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"SimpleDealingRates\" id=\"SimpleDealingRates\">\r\n          <div>\r\n            <table>\r\n              <tbody onContextMenu={this.ContextMenuHandle.bind(this)}>\r\n                {this.state.stacks.map((stack, i) => (\r\n                  <tr>\r\n                    <td>{stack.symbol}</td>\r\n                    <td onClick={this.orderMenu.bind(this)}>\r\n                      <div className=\"sell\" id={stack.symbol + \" selldiv\"}>\r\n                        <div className=\"logo1\">\r\n                          <span id={stack.symbol + \" sellspan\"}>&#9660;</span>\r\n                        </div>\r\n                        <span id={stack.symbol + \" sell\"}>{stack.sell}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td onClick={this.orderMenu.bind(this)}>\r\n                      <div className=\"sell\" id={stack.symbol + \" buydiv\"}>\r\n                        <div className=\"logo1\">\r\n                          <span id={stack.symbol + \" buyspan\"}>&#9650;</span>\r\n                        </div>\r\n                        <span id={stack.symbol + \" buy\"}>{stack.buy}</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleDealingRates;\r\n"]},"metadata":{},"sourceType":"module"}