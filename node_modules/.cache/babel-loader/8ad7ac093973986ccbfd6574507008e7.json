{"ast":null,"code":"var _jsxFileName = \"/home/mat/reactex/jun11/chart/src/Candlestick.js\";\nimport React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nvar socket;\nvar that = this;\n\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      stacks: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n    var that = this;\n    var symbols = [\"EUR/USD\", \"XAU/USD\", \"GBP/USD\", \"JPY/USD\", \"AUD/USD\", \"NZD/USD\"]; //\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function (datas) {\n      console.log(datas);\n      var stacks = that.state.stacks;\n      stacks.map((stack, i) => {\n        stack.buy = datas.buy;\n        stack.sell = datas.sell;\n        console.log(stacks);\n        stacks.push(datas);\n      });\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      stacks: {\n        labels: [],\n        datasets: [{\n          data: [that.state.stacks.map((values, i) => (values.buy, values.sell, values.buy2, values.sell2, values.buy3, values.sell3))],\n          backgroundColor: [\"rgba(255, 99, 132, 0.6)\", \"rgba(54, 162, 235, 0.6)\", \"rgba(255, 206, 86, 0.6)\", \"rgba(75, 192, 192, 0.6)\", \"rgba(153, 102, 255, 0.6)\", \"rgba(255, 159, 64, 0.6)\", \"rgba(255, 99, 132, 0.6)\"]\n        }]\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      chartData: this.state.stacks,\n      location: \"Massachusetts\",\n      legendPosition: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Candlestick;","map":{"version":3,"sources":["/home/mat/reactex/jun11/chart/src/Candlestick.js"],"names":["React","Component","Chart","io","socket","that","Candlestick","constructor","state","stacks","componentDidMount","getChartData","console","log","symbols","connect","emit","on","datas","map","stack","i","buy","sell","push","setState","labels","datasets","data","values","buy2","sell2","buy3","sell3","backgroundColor","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAO,WAAP;AACA,IAAIC,MAAJ;AACA,IAAIC,IAAI,GAAG,IAAX;;AACA,MAAMC,WAAN,SAA0BL,SAA1B,CAAoC;AAClCM,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,YAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,QAAIR,IAAI,GAAG,IAAX;AACA,QAAIS,OAAO,GAAG,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,CAAd,CALkB,CAYf;;AAEHV,IAAAA,MAAM,GAAGD,EAAE,CAACY,OAAH,CAAW,2BAAX,CAAT;AACAX,IAAAA,MAAM,CAACY,IAAP,CAAY,MAAZ,EAAoBF,OAApB;AACAV,IAAAA,MAAM,CAACa,EAAP,CAAU,OAAV,EAAmB,UAASC,KAAT,EAAgB;AACjCN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AAEA,UAAIT,MAAM,GAAGJ,IAAI,CAACG,KAAL,CAAWC,MAAxB;AAEAA,MAAAA,MAAM,CAACU,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,KAAc;AACvBD,QAAAA,KAAK,CAACE,GAAN,GAAYJ,KAAK,CAACI,GAAlB;AACAF,QAAAA,KAAK,CAACG,IAAN,GAAaL,KAAK,CAACK,IAAnB;AACAX,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAA,QAAAA,MAAM,CAACe,IAAP,CAAYN,KAAZ;AACD,OALD;AAOAb,MAAAA,IAAI,CAACoB,QAAL,CAAc;AACZhB,QAAAA,MAAM,EAAEA;AADI,OAAd;AAGD,KAfD;AAgBD;;AAEDE,EAAAA,YAAY,GAAG;AACb;AACA,SAAKc,QAAL,CAAc;AACZhB,MAAAA,MAAM,EAAE;AACNiB,QAAAA,MAAM,EAAE,EADF;AAENC,QAAAA,QAAQ,EAAE,CACR;AACEC,UAAAA,IAAI,EAAE,CACJvB,IAAI,CAACG,KAAL,CAAWC,MAAX,CAAkBU,GAAlB,CACE,CAACU,MAAD,EAASR,CAAT,MACEQ,MAAM,CAACP,GAAP,EACAO,MAAM,CAACN,IADP,EAEAM,MAAM,CAACC,IAFP,EAGAD,MAAM,CAACE,KAHP,EAIAF,MAAM,CAACG,IAJP,EAKAH,MAAM,CAACI,KANT,CADF,CADI,CADR;AAaEC,UAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,0BALe,EAMf,yBANe,EAOf,yBAPe;AAbnB,SADQ;AAFJ;AADI,KAAd;AA8BD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,SAAS,EAAE,KAAK3B,KAAL,CAAWC,MADxB;AAEE,MAAA,QAAQ,EAAC,eAFX;AAGE,MAAA,cAAc,EAAC,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AASD;;AAtFiC;;AAyFpC,eAAeH,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\n\nimport \"./App.css\";\nvar socket;\nvar that = this;\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      stacks: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n\n    var that = this;\n    var symbols = [\n      \"EUR/USD\",\n      \"XAU/USD\",\n      \"GBP/USD\",\n      \"JPY/USD\",\n      \"AUD/USD\",\n      \"NZD/USD\"\n    ]; //\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function(datas) {\n      console.log(datas);\n\n      var stacks = that.state.stacks;\n\n      stacks.map((stack, i) => {\n        stack.buy = datas.buy;\n        stack.sell = datas.sell;\n        console.log(stacks);\n        stacks.push(datas);\n      });\n\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      stacks: {\n        labels: [],\n        datasets: [\n          {\n            data: [\n              that.state.stacks.map(\n                (values, i) => (\n                  values.buy,\n                  values.sell,\n                  values.buy2,\n                  values.sell2,\n                  values.buy3,\n                  values.sell3\n                )\n              )\n            ],\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.6)\",\n              \"rgba(54, 162, 235, 0.6)\",\n              \"rgba(255, 206, 86, 0.6)\",\n              \"rgba(75, 192, 192, 0.6)\",\n              \"rgba(153, 102, 255, 0.6)\",\n              \"rgba(255, 159, 64, 0.6)\",\n              \"rgba(255, 99, 132, 0.6)\"\n            ]\n          }\n        ]\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Chart\n          chartData={this.state.stacks}\n          location=\"Massachusetts\"\n          legendPosition=\"bottom\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default Candlestick;\n"]},"metadata":{},"sourceType":"module"}