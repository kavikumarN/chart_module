{"ast":null,"code":"var _jsxFileName = \"/home/mat/reactex/jun11/chart/src/Candlestick.js\";\nimport React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\nimport SimpleDealingRates from \"./SimpleDealingRates\";\nimport \"./App.css\";\n\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      chartData: {}\n    };\n  }\n\n  componentWillMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n    var that = this;\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function (datas) {\n      console.log(datas);\n      var stacks = that.state.stacks;\n\n      if (stacks === []) {\n        stacks.push(datas);\n      } else {\n        stacks.map((stack, i) => {\n          stack.buy = datas.buy;\n          stack.sell = datas.sell; // stacks.push(datas);\n        });\n      }\n\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      chartData: {\n        labels: [\"Boston\", \"Worcester\", \"Springfield\", \"Lowell\", \"Cambridge\", \"New Bedford\"],\n        datasets: [{\n          label: \"Population\",\n          data: [617594, 181045, 153060, 106519, 105162, 95072],\n          backgroundColor: [\"rgba(255, 99, 132, 0.6)\", \"rgba(54, 162, 235, 0.6)\", \"rgba(255, 206, 86, 0.6)\", \"rgba(75, 192, 192, 0.6)\", \"rgba(153, 102, 255, 0.6)\", \"rgba(255, 159, 64, 0.6)\", \"rgba(255, 99, 132, 0.6)\"]\n        }]\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      chartData: this.state.chartData,\n      location: \"Massachusetts\",\n      legendPosition: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Candlestick;","map":{"version":3,"sources":["/home/mat/reactex/jun11/chart/src/Candlestick.js"],"names":["React","Component","Chart","io","SimpleDealingRates","Candlestick","constructor","state","chartData","componentWillMount","getChartData","console","log","that","symbols","socket","connect","emit","on","datas","stacks","push","map","stack","i","buy","sell","setState","labels","datasets","label","data","backgroundColor","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAO,WAAP;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAClCK,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE;AADA,KAAb;AAGD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,SAAKC,YAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,OAAO,GAAG,CAAC,SAAD,CAAd,CALmB,CAKQ;;AAE3BC,IAAAA,MAAM,GAAGZ,EAAE,CAACa,OAAH,CAAW,2BAAX,CAAT;AACAD,IAAAA,MAAM,CAACE,IAAP,CAAY,MAAZ,EAAoBH,OAApB;AACAC,IAAAA,MAAM,CAACG,EAAP,CAAU,OAAV,EAAmB,UAASC,KAAT,EAAgB;AACjCR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AAEA,UAAIC,MAAM,GAAGP,IAAI,CAACN,KAAL,CAAWa,MAAxB;;AACA,UAAIA,MAAM,KAAK,EAAf,EAAmB;AACjBA,QAAAA,MAAM,CAACC,IAAP,CAAYF,KAAZ;AACD,OAFD,MAEO;AACLC,QAAAA,MAAM,CAACE,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,KAAc;AACvBD,UAAAA,KAAK,CAACE,GAAN,GAAYN,KAAK,CAACM,GAAlB;AACAF,UAAAA,KAAK,CAACG,IAAN,GAAaP,KAAK,CAACO,IAAnB,CAFuB,CAIvB;AACD,SALD;AAMD;;AACDb,MAAAA,IAAI,CAACc,QAAL,CAAc;AACZP,QAAAA,MAAM,EAAEA;AADI,OAAd;AAGD,KAjBD;AAkBD;;AAEDV,EAAAA,YAAY,GAAG;AACb;AACA,SAAKiB,QAAL,CAAc;AACZnB,MAAAA,SAAS,EAAE;AACToB,QAAAA,MAAM,EAAE,CACN,QADM,EAEN,WAFM,EAGN,aAHM,EAIN,QAJM,EAKN,WALM,EAMN,aANM,CADC;AASTC,QAAAA,QAAQ,EAAE,CACR;AACEC,UAAAA,KAAK,EAAE,YADT;AAEEC,UAAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,KAAzC,CAFR;AAGEC,UAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,0BALe,EAMf,yBANe,EAOf,yBAPe;AAHnB,SADQ;AATD;AADC,KAAd;AA2BD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,SAAS,EAAE,KAAK1B,KAAL,CAAWC,SADxB;AAEE,MAAA,QAAQ,EAAC,eAFX;AAGE,MAAA,cAAc,EAAC,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AASD;;AA9EiC;;AAiFpC,eAAeH,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\nimport SimpleDealingRates from \"./SimpleDealingRates\";\nimport \"./App.css\";\n\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      chartData: {}\n    };\n  }\n\n  componentWillMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n\n    var that = this;\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function(datas) {\n      console.log(datas);\n\n      var stacks = that.state.stacks;\n      if (stacks === []) {\n        stacks.push(datas);\n      } else {\n        stacks.map((stack, i) => {\n          stack.buy = datas.buy;\n          stack.sell = datas.sell;\n\n          // stacks.push(datas);\n        });\n      }\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      chartData: {\n        labels: [\n          \"Boston\",\n          \"Worcester\",\n          \"Springfield\",\n          \"Lowell\",\n          \"Cambridge\",\n          \"New Bedford\"\n        ],\n        datasets: [\n          {\n            label: \"Population\",\n            data: [617594, 181045, 153060, 106519, 105162, 95072],\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.6)\",\n              \"rgba(54, 162, 235, 0.6)\",\n              \"rgba(255, 206, 86, 0.6)\",\n              \"rgba(75, 192, 192, 0.6)\",\n              \"rgba(153, 102, 255, 0.6)\",\n              \"rgba(255, 159, 64, 0.6)\",\n              \"rgba(255, 99, 132, 0.6)\"\n            ]\n          }\n        ]\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Chart\n          chartData={this.state.chartData}\n          location=\"Massachusetts\"\n          legendPosition=\"bottom\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default Candlestick;\n"]},"metadata":{},"sourceType":"module"}