{"ast":null,"code":"var _jsxFileName = \"/home/mat/reactex/jun11/chart/src/Candlestick.js\";\nimport React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nvar socket;\n\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      stacks: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n    var that = this;\n    var symbols = [\"EUR/USD\", \"XAU/USD\", \"GBP/USD\", \"JPY/USD\", \"AUD/USD\", \"NZD/USD\"]; //\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function (datas) {\n      console.log(datas);\n      var stacks = that.state.stacks;\n      stacks.map((stack, i) => {\n        stack.buy = datas.buy;\n        stack.sell = datas.sell;\n        console.log(stacks);\n        stacks.push(datas);\n      });\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      stacks: {\n        labels: [],\n        datasets: [{\n          label: \"EUR/USD\",\n          data: [that.state.stacks.map((data, i) => (data.buy, data.sell, data.buy2, data.sell2, data.buy3, data.sell3))],\n          backgroundColor: [\"rgba(255, 99, 132, 0.6)\", \"rgba(54, 162, 235, 0.6)\", \"rgba(255, 206, 86, 0.6)\", \"rgba(75, 192, 192, 0.6)\", \"rgba(153, 102, 255, 0.6)\", \"rgba(255, 159, 64, 0.6)\", \"rgba(255, 99, 132, 0.6)\"]\n        }]\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      chartData: this.state.stacks,\n      location: \"Massachusetts\",\n      legendPosition: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Candlestick;","map":{"version":3,"sources":["/home/mat/reactex/jun11/chart/src/Candlestick.js"],"names":["React","Component","Chart","io","socket","Candlestick","constructor","state","stacks","componentDidMount","getChartData","console","log","that","symbols","connect","emit","on","datas","map","stack","i","buy","sell","push","setState","labels","datasets","label","data","buy2","sell2","buy3","sell3","backgroundColor","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAO,WAAP;AACA,IAAIC,MAAJ;;AACA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAClCK,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,YAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,OAAO,GAAG,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,CAAd,CALkB,CAYf;;AAEHV,IAAAA,MAAM,GAAGD,EAAE,CAACY,OAAH,CAAW,2BAAX,CAAT;AACAX,IAAAA,MAAM,CAACY,IAAP,CAAY,MAAZ,EAAoBF,OAApB;AACAV,IAAAA,MAAM,CAACa,EAAP,CAAU,OAAV,EAAmB,UAASC,KAAT,EAAgB;AACjCP,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AAEA,UAAIV,MAAM,GAAGK,IAAI,CAACN,KAAL,CAAWC,MAAxB;AAEAA,MAAAA,MAAM,CAACW,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,KAAc;AACvBD,QAAAA,KAAK,CAACE,GAAN,GAAYJ,KAAK,CAACI,GAAlB;AACAF,QAAAA,KAAK,CAACG,IAAN,GAAaL,KAAK,CAACK,IAAnB;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAA,QAAAA,MAAM,CAACgB,IAAP,CAAYN,KAAZ;AACD,OALD;AAOAL,MAAAA,IAAI,CAACY,QAAL,CAAc;AACZjB,QAAAA,MAAM,EAAEA;AADI,OAAd;AAGD,KAfD;AAgBD;;AAEDE,EAAAA,YAAY,GAAG;AACb;AACA,SAAKe,QAAL,CAAc;AACZjB,MAAAA,MAAM,EAAE;AACNkB,QAAAA,MAAM,EAAE,EADF;AAENC,QAAAA,QAAQ,EAAE,CACR;AACEC,UAAAA,KAAK,EAAE,SADT;AAEEC,UAAAA,IAAI,EAAE,CACJhB,IAAI,CAACN,KAAL,CAAWC,MAAX,CAAkBW,GAAlB,CACE,CAACU,IAAD,EAAOR,CAAP,MACEQ,IAAI,CAACP,GAAL,EACAO,IAAI,CAACN,IADL,EAEAM,IAAI,CAACC,IAFL,EAGAD,IAAI,CAACE,KAHL,EAIAF,IAAI,CAACG,IAJL,EAKAH,IAAI,CAACI,KANP,CADF,CADI,CAFR;AAcEC,UAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,0BALe,EAMf,yBANe,EAOf,yBAPe;AAdnB,SADQ;AAFJ;AADI,KAAd;AA+BD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,SAAS,EAAE,KAAK5B,KAAL,CAAWC,MADxB;AAEE,MAAA,QAAQ,EAAC,eAFX;AAGE,MAAA,cAAc,EAAC,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AASD;;AAvFiC;;AA0FpC,eAAeH,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport io from \"socket.io-client\";\n\nimport \"./App.css\";\nvar socket;\nclass Candlestick extends Component {\n  constructor() {\n    super();\n    this.state = {\n      stacks: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getChartData();\n    console.log(\"Component has mounted \");\n\n    var that = this;\n    var symbols = [\n      \"EUR/USD\",\n      \"XAU/USD\",\n      \"GBP/USD\",\n      \"JPY/USD\",\n      \"AUD/USD\",\n      \"NZD/USD\"\n    ]; //\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function(datas) {\n      console.log(datas);\n\n      var stacks = that.state.stacks;\n\n      stacks.map((stack, i) => {\n        stack.buy = datas.buy;\n        stack.sell = datas.sell;\n        console.log(stacks);\n        stacks.push(datas);\n      });\n\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  getChartData() {\n    // Ajax calls here\n    this.setState({\n      stacks: {\n        labels: [],\n        datasets: [\n          {\n            label: \"EUR/USD\",\n            data: [\n              that.state.stacks.map(\n                (data, i) => (\n                  data.buy,\n                  data.sell,\n                  data.buy2,\n                  data.sell2,\n                  data.buy3,\n                  data.sell3\n                )\n              )\n            ],\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.6)\",\n              \"rgba(54, 162, 235, 0.6)\",\n              \"rgba(255, 206, 86, 0.6)\",\n              \"rgba(75, 192, 192, 0.6)\",\n              \"rgba(153, 102, 255, 0.6)\",\n              \"rgba(255, 159, 64, 0.6)\",\n              \"rgba(255, 99, 132, 0.6)\"\n            ]\n          }\n        ]\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Chart\n          chartData={this.state.stacks}\n          location=\"Massachusetts\"\n          legendPosition=\"bottom\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default Candlestick;\n"]},"metadata":{},"sourceType":"module"}