{"ast":null,"code":"var _jsxFileName = \"/home/mat/reactex/jun11/chart/src/SimpleDealingRates.js\";\nimport React from \"react\";\nimport \"./SimpleDealingRates.css\";\nimport io from \"socket.io-client\";\nvar socket;\n\nclass SimpleDealingRates extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //value : '12345',\n      visible: false,\n      stacks: [{\n        symbol: \"XAU/USD\",\n        sell: \"123456\",\n        buy: \"654321\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Component has mounted \");\n    var that = this;\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\n\n    socket = io.connect(\"http://192.168.1.145:5000\");\n    socket.emit(\"join\", symbols);\n    socket.on(\"stack\", function (datas) {\n      console.log(datas);\n      var stacks = that.state.stacks;\n\n      if (stacks === []) {\n        stacks.push(datas);\n      } else {\n        stacks.map((stack, i) => {\n          if (stack.symbol === datas.symbol) {\n            stack.buy = datas.buy;\n            stack.sell = datas.sell;\n            flag = 1;\n          }\n\n          if (stack.symbol == datas.symbol && lenth - 1 === i && flag !== 1) {\n            stacks.push(datas);\n          }\n        });\n      }\n\n      that.setState({\n        stacks: stacks\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"SimpleDealingRates\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"pre\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \" \", this.state.stacks.map((data, i) => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, data.buy)), \";\"));\n  }\n\n}\n\nexport default SimpleDealingRates;","map":{"version":3,"sources":["/home/mat/reactex/jun11/chart/src/SimpleDealingRates.js"],"names":["React","io","socket","SimpleDealingRates","Component","constructor","props","state","visible","stacks","symbol","sell","buy","componentDidMount","console","log","that","symbols","connect","emit","on","datas","push","map","stack","i","flag","lenth","setState","render","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,0BAAP;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,IAAIC,MAAJ;;AAEA,MAAMC,kBAAN,SAAiCH,KAAK,CAACI,SAAvC,CAAiD;AAC/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACX;AACAC,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,MAAM,EAAE,CAAC;AAAEC,QAAAA,MAAM,EAAE,SAAV;AAAqBC,QAAAA,IAAI,EAAE,QAA3B;AAAqCC,QAAAA,GAAG,EAAE;AAA1C,OAAD;AAHG,KAAb;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,OAAO,GAAG,CAAC,SAAD,CAAd,CAJkB,CAIS;;AAE3Bf,IAAAA,MAAM,GAAGD,EAAE,CAACiB,OAAH,CAAW,2BAAX,CAAT;AAEAhB,IAAAA,MAAM,CAACiB,IAAP,CAAY,MAAZ,EAAoBF,OAApB;AAEAf,IAAAA,MAAM,CAACkB,EAAP,CAAU,OAAV,EAAmB,UAASC,KAAT,EAAgB;AACjCP,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AAEA,UAAIZ,MAAM,GAAGO,IAAI,CAACT,KAAL,CAAWE,MAAxB;;AACA,UAAIA,MAAM,KAAK,EAAf,EAAmB;AACjBA,QAAAA,MAAM,CAACa,IAAP,CAAYD,KAAZ;AACD,OAFD,MAEO;AACLZ,QAAAA,MAAM,CAACc,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,KAAc;AACvB,cAAID,KAAK,CAACd,MAAN,KAAiBW,KAAK,CAACX,MAA3B,EAAmC;AACjCc,YAAAA,KAAK,CAACZ,GAAN,GAAYS,KAAK,CAACT,GAAlB;AACAY,YAAAA,KAAK,CAACb,IAAN,GAAaU,KAAK,CAACV,IAAnB;AACAe,YAAAA,IAAI,GAAG,CAAP;AACD;;AACD,cAAIF,KAAK,CAACd,MAAN,IAAgBW,KAAK,CAACX,MAAtB,IAAgCiB,KAAK,GAAG,CAAR,KAAcF,CAA9C,IAAmDC,IAAI,KAAK,CAAhE,EAAmE;AACjEjB,YAAAA,MAAM,CAACa,IAAP,CAAYD,KAAZ;AACD;AACF,SATD;AAUD;;AACDL,MAAAA,IAAI,CAACY,QAAL,CAAc;AACZnB,QAAAA,MAAM,EAAEA;AADI,OAAd;AAGD,KArBD;AAsBD;;AAEDoB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEG,KAAKtB,KAAL,CAAWE,MAAX,CAAkBc,GAAlB,CAAsB,CAACO,IAAD,EAAOL,CAAP,KACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKK,IAAI,CAAClB,GAAV,CADD,CAFH,MADF,CADF;AAWD;;AAxD8C;;AA2DjD,eAAeT,kBAAf","sourcesContent":["import React from \"react\";\r\nimport \"./SimpleDealingRates.css\";\r\nimport io from \"socket.io-client\";\r\n\r\nvar socket;\r\n\r\nclass SimpleDealingRates extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //value : '12345',\r\n      visible: false,\r\n      stacks: [{ symbol: \"XAU/USD\", sell: \"123456\", buy: \"654321\" }]\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"Component has mounted \");\r\n\r\n    var that = this;\r\n    var symbols = [\"EUR/USD\"]; // \"XAU/USD\",\"GBP/USD\",\"JPY/USD\",\"AUD/USD\",\"NZD/USD\",\"BTC/USD\",\"USD/CHF\",\"CAD/JPY\",\"USD/TRY\"];\r\n\r\n    socket = io.connect(\"http://192.168.1.145:5000\");\r\n\r\n    socket.emit(\"join\", symbols);\r\n\r\n    socket.on(\"stack\", function(datas) {\r\n      console.log(datas);\r\n\r\n      var stacks = that.state.stacks;\r\n      if (stacks === []) {\r\n        stacks.push(datas);\r\n      } else {\r\n        stacks.map((stack, i) => {\r\n          if (stack.symbol === datas.symbol) {\r\n            stack.buy = datas.buy;\r\n            stack.sell = datas.sell;\r\n            flag = 1;\r\n          }\r\n          if (stack.symbol == datas.symbol && lenth - 1 === i && flag !== 1) {\r\n            stacks.push(datas);\r\n          }\r\n        });\r\n      }\r\n      that.setState({\r\n        stacks: stacks\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"SimpleDealingRates\">\r\n        <pre>\r\n          {\" \"}\r\n          {this.state.stacks.map((data, i) => (\r\n            <li>{data.buy}</li>\r\n          ))}\r\n          ;\r\n        </pre>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleDealingRates;\r\n"]},"metadata":{},"sourceType":"module"}